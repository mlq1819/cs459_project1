#ifndef DEBUG
#define DEBUG false
#endif
#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <iostream>
#include <cstdlib>
#include <stdlib.h>

using namespace std;

int main(int argc, char** argv){
	string prog_name  = "./program1.cpp";
	cout << "test 1" << endl;
	size_t length = prog_name.length() + ((unsigned int) argc-1);
	cout << "test 2" << endl;
	for(int i=1; i<argc; i++)
		length += strlen(argv[i]) + 1;
	char * args = (char *) malloc(sizeof(char) * length);
	cout << "test 3" << endl;
	for(unsigned int i=0; i<prog_name.length(); i++)
		args[i] = prog_name.c_str()[i];
	cout << "test 4" << endl;
	int toReturn = system(args);
	free(args);
	return toReturn;
}